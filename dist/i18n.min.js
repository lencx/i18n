'use strict';var mode='{lang}/page',i18nType=['i18n-c','i18n-k','i18n-p','i18n-s'];window.addEventListener('load',function(){hasI18n();var a=document.querySelectorAll('[i18n-lang-btn]');Array.from(a).some(function(b){b.addEventListener('click',function(){window.localStorage.setItem('LxI18nLang',b.getAttribute('i18n-lang-btn')),hasI18n()})})});function hasI18n(){var a=getPath();if(''!==a){var b=window.localStorage.getItem('LxI18nLang'),c='/i18n/'+getPath().replace('{lang}',b)+'.json';i18nType.some(function(d){var e=document.querySelectorAll('['+d+']');if(0<e.length)switch(d){case'i18n-p':'p'===a||fetchData({url:c,type:'i18n-p',el:e,cb:function cb(f){i18nImg('i18n-p-i',f),i18nPlaceholder('i18n-p-ph',f)}});break;case'i18n-c':fetchData({url:'/i18n/glob/common.'+b+'.json',type:'i18n-c',el:e,cb:function cb(f){i18nImg('i18n-c-i',f),i18nPlaceholder('i18n-c-ph',f)}});break;case'i18n-k':fetchData({url:'/i18n/glob/keyword.'+b+'.json',type:'i18n-k',el:e,cb:function cb(f){return i18nPlaceholder('i18n-k-ph',f)}});break;case'i18n-s':Array.from(e).some(function(f){f.classList.remove('i18n-cn','i18n-en'),f.classList.add('i18n-'+b)});break;default:}})}}function fetchData(a){var b={method:'GET',headers:new Headers().append('Content-Type','application/json'),mode:'cors',cache:'default'};fetch(a.url,b).then(function(c){return c.json()}).then(function(c){Array.from(a.el).some(function(d){return d.innerHTML=c[d.getAttribute(a.type)]}),a.cb?a.cb(c):''},function(){console.log('%c Not `i18n` page please set: %c <meta i18n-unset> ','background: yellow; color: #000; font-size: 18px;','background: #fff; color: red; font-weight: bold; font-size: 18px;'),console.log('%c meta attribute: %c i18n-uset | i18n-uset=\'p\'','font-size: 18px; font-weight: bold;','background: #fff; color: green; font-size: 18px; font-weight: bold;')})}function i18nImg(a,b){Array.from(document.querySelectorAll('['+a+']')).some(function(c){return c.setAttribute('src',b[c.getAttribute(a)])})}function i18nPlaceholder(a,b){Array.from(document.querySelectorAll('['+a+']')).some(function(c){return c.setAttribute('placeholder',b[c.getAttribute(a)])})}function getPath(){var a=document.querySelector('[i18n-path]'),b=document.querySelector('[i18n-unset]'),c=null===a?null===b?mode.replace('/page',location.pathname.split('.')[0]):b.getAttribute('i18n-unset'):a.attributes['i18n-path'].value;return c=/\/$/.test(c)?c+'index':c,c}